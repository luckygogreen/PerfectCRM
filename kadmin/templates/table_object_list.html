{% extends 'kmain.html' %}
{% load kadmin_tags %}
{% block showsiderbar %}{% endblock %}
{% block showinfomation %}
    <div class="panel panel-info" style="margin: 30px;">
        <div class="panel-heading">
            {% if admin_class.list_filter %}
                <form>
                    {% for filter_column in admin_class.list_filter %}
                        {% build_filter_element filter_column admin_class %}
                    {% endfor %}
                    <input type="submit" value="Go">
                </form>
            {% endif %}
        </div>
        <div class="panel-heading">
            <h3 class="panel-title">APP名称:{{ appname }} | 表名：{{ modelname }}</h3>
        </div>
        <div class="panel-body">
            <table class="table table-striped">
                <thead>
                <tr>
                    {% if admin_class.list_display %}
                        {% for column in admin_class.list_display %}
                            <th>{{ column }}</th>
                        {% endfor %}
                    {% else %}
                        <th>{% get_model_name admin_class %}</th>
                    {% endif %}
                </tr>
                </thead>
                <tbody>

                {% for obj in queryset %}
                    <tr>
                        {% build_table_row obj admin_class %}
                    </tr>
                {% endfor %}

                </tbody>
            </table>
            <div class="pull-right">
                <nav aria-label="Page navigation">
                    <ul class="pagination pagination-sm">
                        {% if queryset.has_previous %}
                            <li>
                                <a href="?_kpage=1" aria-label="Previous">
                                    <span aria-hidden="true">First</span>
                                </a>
                                <a href="?_kpage={{ queryset.previous_page_number }}" aria-label="Previous">
                                    <span aria-hidden="true">Previous</span>
                                </a>
                            </li>
                        {% endif %}
                        {% for page_number in queryset.paginator.page_range %}
                            {% render_paginator_button page_number queryset %}
                        {% endfor %}
                        {% if queryset.has_next %}
                            <li>
                                <a href="?_kpage={{ queryset.next_page_number }}" aria-label="Next">
                                    <span aria-hidden="true">Next</span>
                                </a>
                            </li>
                            <li>
                                <a href="?_kpage={{ queryset.paginator.num_pages }}" aria-label="Next">
                                    <span aria-hidden="true">Last</span>
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                </nav>
            </div>
        </div>
    </div>
{% endblock %}